(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{177:function(e,t,n){e.exports=n(415)},211:function(e,t){},213:function(e,t){},245:function(e,t){},246:function(e,t){},315:function(e,t){},413:function(e,t,n){},415:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(172),o=n.n(c),i=n(35),s=n(65),l=n(66),u=n(68),d=n(67),m=n(69),p=n(100),v=function(e,t,n){return function(r){var a="https://disquietude-coinmarketcap-microservice.glitch.me/api/quotes/".concat(e.join(","));return t.length>0&&(a+=","+t.join(",")),p(a+="/"+n,{method:"GET",json:"true"}).then(function(t){var r=[];for(var a in t.data){var c={id:a,name:t.data[a].name,symbol:t.data[a].symbol,rank:t.data[a].cmc_rank,price:t.data[a].quote[n].price};r.push(c)}for(var o={selected:[],reserve:[]},i=0;i<r.length;i++){var s=r[i];e.includes(Number.parseInt(s.id))?o.selected.push(s):o.reserve.push(s)}return o},function(e){console.error(e)}).then(function(e){r({type:"FETCH_CURRENCIES",payload:e})})}},h=n(100),f=function(e){function t(e){var n;return Object(s.a)(this,t),n=Object(u.a)(this,Object(d.a)(t).call(this,e)),h("https://disquietude-coinmarketcap-microservice.glitch.me/api/map/10",{method:"GET",json:!0}).then(function(e){var t=[];return e.data.forEach(function(e){t.push(e.id)}),t},function(e){console.error(e)}).then(function(t){for(var n=[],r=[],a=0;a<t.length;a++)a<5?n.push(t[a]):r.push(t[a]);e.fetchCurrencies(n,r,"USD")}),n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e,t=this;return this.props.reserve&&(e=this.props.reserve.map(function(e){return a.a.createElement("a",{className:"navbar-item",key:e.id,onClick:function(n){return t.props.addCurrency(e.id,n)}},e.name," (",e.symbol,")")})),a.a.createElement("nav",{className:"navbar is-link"},a.a.createElement("div",{className:"navbar-brand"},a.a.createElement("div",{className:"navbar-item"},a.a.createElement("h1",{className:"title is-5"},"React Blockchain"))),a.a.createElement("div",{className:"navbar-menu"},a.a.createElement("div",{className:"navbar-end"},a.a.createElement("div",{className:"navbar-item has-dropdown is-hoverable"},a.a.createElement("a",{className:"navbar-link"},"Add Currency"),a.a.createElement("div",{className:"navbar-dropdown"},e)),a.a.createElement("div",{className:"navbar-item has-dropdown is-hoverable"},a.a.createElement("a",{className:"navbar-link"},"Convert Prices"),a.a.createElement("div",{className:"navbar-dropdown"},a.a.createElement("a",{className:"navbar-item",onClick:function(e){return t.props.changeConversion(t.props.selected,t.props.reserve,"USD",e)}},"USD"),a.a.createElement("a",{className:"navbar-item",onClick:function(e){return t.props.changeConversion(t.props.selected,t.props.reserve,"BTC",e)}},"BTC"),a.a.createElement("a",{className:"navbar-item",onClick:function(e){return t.props.changeConversion(t.props.selected,t.props.reserve,"ETH",e)}},"ETH"))))))}}]),t}(r.Component),E=Object(i.b)(function(e){return{selected:e.currencies.selected,reserve:e.currencies.reserve}},{fetchCurrencies:v,addCurrency:function(e){return function(t){t({type:"ADD_CURRENCY",payload:e})}},changeConversion:function(e,t,n){return function(r){var a=[],c=[];return e.forEach(function(e){a.push(Number.parseInt(e.id))}),t.forEach(function(e){c.push(Number.parseInt(e.id))}),r(v(a,c,n)).then(function(){r({type:"CHANGE_CONVERSION",payload:n})},function(e){console.error(e)})}}})(f),b=n(174),y=n(51),C=function(e){return a.a.createElement("tr",null,a.a.createElement("th",null,e.rank),a.a.createElement("td",null,e.symbol),a.a.createElement("td",null,e.name),a.a.createElement("td",null,e.price),a.a.createElement("td",null,a.a.createElement("button",{className:"button",onClick:function(t){return e.remove(e.id,t)}},"Remove")))},N=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={rank:"desc",price:"asc"},n.changeSortDirection=n.changeSortDirection.bind(Object(y.a)(Object(y.a)(n))),n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"changeSortDirection",value:function(e){var t="asc"===this.state[e]?"desc":"asc";this.props.sortCurrencies(e,t),this.setState(Object(b.a)({},e,t))}},{key:"render",value:function(){var e,t=this;return this.props.selected&&(e=this.props.selected.map(function(e){return a.a.createElement(C,{key:e.id,id:e.id,rank:e.rank,symbol:e.symbol,name:e.name,price:e.price,remove:t.props.removeCurrency})})),a.a.createElement("section",{className:"section"},a.a.createElement("div",{className:"container"},a.a.createElement("table",{className:"table is-striped is-hoverable is-fullwidth"},a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",{className:"table__header--clickable",title:"Sort by Rank",onClick:function(e){t.changeSortDirection("rank",e)}},"CMC Rank"),a.a.createElement("th",null,"Symbol"),a.a.createElement("th",null,"Name"),a.a.createElement("th",{className:"table__header--clickable",title:"Sort by Price",onClick:function(e){t.changeSortDirection("price",e)}},"Price (in ",this.props.conversion,")"),a.a.createElement("th",null,"Remove Currency"))),a.a.createElement("tbody",null,e))))}}]),t}(r.Component),k=Object(i.b)(function(e){return{selected:e.currencies.selected,conversion:e.conversion}},{removeCurrency:function(e){return function(t){t({type:"REMOVE_CURRENCY",payload:e})}},sortCurrencies:function(e,t){return function(n){n({type:"SORT_CURRENCIES",payload:{property:e,direction:t}})}}})(N),O=n(29),R=n(175),j=n(176),g={},S=Object(O.c)({currencies:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;return Object(j.a)(e,function(n){switch(t.type){case"FETCH_CURRENCIES":return{selected:t.payload.selected,reserve:t.payload.reserve};case"ADD_CURRENCY":n.selected.push(e.reserve.find(function(e){return e.id===t.payload})),n.reserve=e.reserve.filter(function(e){return e.id!==t.payload});break;case"REMOVE_CURRENCY":e.selected.length>1&&(n.reserve.push(e.selected.find(function(e){return e.id===t.payload})),n.selected=e.selected.filter(function(e){return e.id!==t.payload}));break;case"SORT_CURRENCIES":"asc"===t.payload.direction?n.selected.sort(function(e,n){return e[t.payload.property]-n[t.payload.property]}):n.selected.sort(function(e,n){return n[t.payload.property]-e[t.payload.property]});break;default:return e}})},conversion:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"USD",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_CONVERSION":return t.payload;default:return e}}}),_=Object(O.d)(S,Object(O.a)(R.a)),w=function(){return a.a.createElement(i.a,{store:_},a.a.createElement(a.a.Fragment,null,a.a.createElement(E,null),a.a.createElement(k,null)))};n(411),n(413);o.a.render(a.a.createElement(w,null),document.getElementById("root"))}},[[177,2,1]]]);
//# sourceMappingURL=main.93ac926e.chunk.js.map